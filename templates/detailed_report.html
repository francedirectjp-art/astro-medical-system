<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTRO-BODY TYPE REPORT - Ë©≥Á¥∞Ë®∫Êñ≠</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e8e8e8;
            line-height: 1.7;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
        }

        .header h1 {
            font-size: 3rem;
            color: #d4af37;
            letter-spacing: 3px;
            margin-bottom: 15px;
            font-weight: normal;
        }

        .header .subtitle {
            font-size: 1.3rem;
            color: #b8860b;
            letter-spacing: 1.5px;
            margin-bottom: 30px;
        }

        .patient-info {
            background: rgba(212, 175, 55, 0.15);
            border: 2px solid rgba(212, 175, 55, 0.4);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: center;
        }

        .section {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 12px;
            padding: 35px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
        }

        .section h2 {
            color: #d4af37;
            font-size: 1.8rem;
            margin-bottom: 25px;
            border-bottom: 3px solid rgba(212, 175, 55, 0.4);
            padding-bottom: 15px;
            position: relative;
        }

        .section h2::before {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 50px;
            height: 3px;
            background: #d4af37;
        }

        .archetype-title {
            font-size: 2.2rem;
            color: #ffd700;
            text-align: center;
            margin: 30px 0;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .constitution-detailed {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .constitution-card {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(184, 134, 11, 0.1));
            padding: 25px;
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            position: relative;
            overflow: hidden;
        }

        .constitution-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, #d4af37, #b8860b);
        }

        .constitution-card h3 {
            color: #d4af37;
            font-size: 1.3rem;
            margin-bottom: 15px;
            padding-left: 20px;
        }

        .constitution-card p {
            padding-left: 20px;
            margin-bottom: 12px;
        }

        .planetary-section {
            background: linear-gradient(45deg, rgba(212, 175, 55, 0.05), rgba(184, 134, 11, 0.05));
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .planetary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .planet-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .planet-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(212, 175, 55, 0.4);
        }

        .planet-card h4 {
            color: #ffd700;
            font-size: 1.2rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .planet-icon {
            font-size: 1.5rem;
            margin-right: 10px;
        }

        .wellness-comprehensive {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(184, 134, 11, 0.05));
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .wellness-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .wellness-category {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 8px;
            padding: 25px;
        }

        .wellness-category h4 {
            color: #d4af37;
            font-size: 1.3rem;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            padding-bottom: 8px;
        }

        .wellness-category ul {
            list-style: none;
            padding-left: 0;
        }

        .wellness-category li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }

        .wellness-category li::before {
            content: "‚úß";
            color: #d4af37;
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }

        .sabian-section {
            background: rgba(212, 175, 55, 0.08);
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 12px;
            padding: 35px;
            margin: 35px 0;
        }

        .sabian-symbol {
            text-align: center;
            margin: 25px 0;
            padding: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .sabian-degree {
            font-size: 1.5rem;
            color: #ffd700;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .sabian-description {
            font-style: italic;
            font-size: 1.1rem;
            color: #e8e8e8;
            line-height: 1.8;
        }

        .medical-warnings {
            background: linear-gradient(45deg, rgba(220, 20, 60, 0.1), rgba(255, 69, 0, 0.1));
            border: 2px solid rgba(220, 20, 60, 0.3);
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
        }

        .medical-warnings h3 {
            color: #ff6b6b;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .timing-section {
            background: rgba(75, 0, 130, 0.1);
            border: 1px solid rgba(75, 0, 130, 0.3);
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }

        .timing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .timing-period {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #9370db;
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            border-top: 2px solid rgba(212, 175, 55, 0.3);
            color: #b8860b;
            font-style: italic;
        }

        .back-link {
            text-align: center;
            margin: 40px 0;
        }

        .back-link a {
            color: #d4af37;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 15px 30px;
            border: 2px solid #d4af37;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .back-link a:hover {
            background: #d4af37;
            color: #1a1a2e;
        }

        .chart-placeholder {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(212, 175, 55, 0.3);
            border-radius: 10px;
            padding: 40px;
            margin: 30px 0;
            color: #b8860b;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ASTRO-BODY TYPE REPORT</h1>
            <div class="subtitle">Ë©≥Á¥∞Ë®∫Êñ≠„É¨„Éù„Éº„Éà - Comprehensive Analysis</div>
        </div>

        <div class="patient-info">
            <h2>Ë®∫Êñ≠ÂØæË±°ËÄÖË©≥Á¥∞ÊÉÖÂ†±</h2>
            <p><strong>ÁîüÂπ¥ÊúàÊó•:</strong> {{ data.birth_date }}</p>
            <p><strong>Âá∫ÁîüÊôÇÂàª:</strong> {{ data.birth_time }}</p>
            <p><strong>Âá∫ÁîüÂú∞:</strong> {{ data.birth_place }}</p>
            <p><strong>Ë®∫Êñ≠ÂÆüË°åÊó•ÊôÇ:</strong> {{ data.diagnosis_timestamp }}</p>
        </div>

        <div class="section">
            <h2>üåü ‰∏ªË¶Å„Ç¢„Éº„Ç≠„Çø„Ç§„ÉóË©≥Á¥∞ÂàÜÊûê</h2>
            <div class="archetype-title">{{ data.primary_archetype }}</div>
            <p>{{ data.archetype_detailed_description }}</p>

            <h3 style="color: #d4af37; margin: 25px 0 15px 0;">Ë£úÂä©„Ç¢„Éº„Ç≠„Çø„Ç§„Éó</h3>
            <div class="constitution-detailed">
                {% for archetype in data.secondary_archetypes %}
                <div class="constitution-card">
                    <h3>{{ archetype.name }}</h3>
                    <p>{{ archetype.description }}</p>
                    <p><strong>ÂΩ±ÈüøÂ∫¶:</strong> {{ archetype.influence_level }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="section">
            <h2>ü™ê ÊÉëÊòüÈÖçÁΩÆ„Å´„Çà„Çã‰ΩìË≥™ÂàÜÊûê</h2>
            <div class="planetary-section">
                <div class="planetary-grid">
                    {% for planet in data.planetary_analysis %}
                    <div class="planet-card">
                        <h4><span class="planet-icon">{{ planet.symbol }}</span>{{ planet.name }}</h4>
                        <p><strong>‰ΩçÁΩÆ:</strong> {{ planet.position }}</p>
                        <p><strong>ÂÅ•Â∫∑„Å∏„ÅÆÂΩ±Èüø:</strong> {{ planet.health_influence }}</p>
                        <p><strong>‰ΩìË≥™ÁöÑÁâπÂæ¥:</strong> {{ planet.constitutional_trait }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="section">
            <h2>‚ö° Ë©≥Á¥∞‰ΩìË≥™ÂàÜÊûê</h2>
            <div class="constitution-detailed">
                <div class="constitution-card">
                    <h3>„Ç®„Éç„É´„ÇÆ„ÉºÁ≥ªÁµ±</h3>
                    <p><strong>Âü∫Êú¨„Çø„Ç§„Éó:</strong> {{ data.detailed_constitution.energy_type }}</p>
                    <p><strong>Ê¥ªÂãï„Éë„Çø„Éº„É≥:</strong> {{ data.detailed_constitution.activity_pattern }}</p>
                    <p><strong>Áñ≤Âä¥„ÅÆÁâπÂæ¥:</strong> {{ data.detailed_constitution.fatigue_pattern }}</p>
                    <p><strong>ÂõûÂæ©ÊñπÊ≥ï:</strong> {{ data.detailed_constitution.recovery_method }}</p>
                </div>

                <div class="constitution-card">
                    <h3>‰ª£Ë¨ùÁ≥ªÁµ±</h3>
                    <p><strong>‰ª£Ë¨ù„Çø„Ç§„Éó:</strong> {{ data.detailed_constitution.metabolism_type }}</p>
                    <p><strong>Ê∂àÂåñÁâπÊÄß:</strong> {{ data.detailed_constitution.digestion_trait }}</p>
                    <p><strong>Ê†ÑÈ§äÂê∏Âèé:</strong> {{ data.detailed_constitution.nutrient_absorption }}</p>
                    <p><strong>ÈÅ©ÊÄßÈ£üÊùê:</strong> {{ data.detailed_constitution.suitable_foods }}</p>
                </div>

                <div class="constitution-card">
                    <h3>Âæ™Áí∞Âô®Á≥ªÁµ±</h3>
                    <p><strong>Âæ™Áí∞„Çø„Ç§„Éó:</strong> {{ data.detailed_constitution.circulation_type }}</p>
                    <p><strong>Ë°ÄÂúßÂÇæÂêë:</strong> {{ data.detailed_constitution.blood_pressure_tendency }}</p>
                    <p><strong>ÂøÉÊãçÁâπÊÄß:</strong> {{ data.detailed_constitution.heart_rate_trait }}</p>
                    <p><strong>ÈÅãÂãïÈÅ©ÊÄß:</strong> {{ data.detailed_constitution.exercise_suitability }}</p>
                </div>

                <div class="constitution-card">
                    <h3>Á•ûÁµåÁ≥ªÁµ±</h3>
                    <p><strong>Á•ûÁµå„Çø„Ç§„Éó:</strong> {{ data.detailed_constitution.nervous_system_type }}</p>
                    <p><strong>„Çπ„Éà„É¨„ÇπÂèçÂøú:</strong> {{ data.detailed_constitution.stress_response }}</p>
                    <p><strong>Áù°Áú†„Éë„Çø„Éº„É≥:</strong> {{ data.detailed_constitution.sleep_pattern }}</p>
                    <p><strong>Á≤æÁ•ûÁöÑÂÇæÂêë:</strong> {{ data.detailed_constitution.mental_tendency }}</p>
                </div>

                <div class="constitution-card">
                    <h3>ÂÖçÁñ´Á≥ªÁµ±</h3>
                    <p><strong>ÂÖçÁñ´„Çø„Ç§„Éó:</strong> {{ data.detailed_constitution.immune_type }}</p>
                    <p><strong>ÊÑüÊüìÊäµÊäóÊÄß:</strong> {{ data.detailed_constitution.infection_resistance }}</p>
                    <p><strong>„Ç¢„É¨„É´„ÇÆ„ÉºÂÇæÂêë:</strong> {{ data.detailed_constitution.allergy_tendency }}</p>
                    <p><strong>ÂõûÂæ©Âäõ:</strong> {{ data.detailed_constitution.healing_capacity }}</p>
                </div>

                <div class="constitution-card">
                    <h3>ÂÜÖÂàÜÊ≥åÁ≥ªÁµ±</h3>
                    <p><strong>„Éõ„É´„É¢„É≥„Éê„É©„É≥„Çπ:</strong> {{ data.detailed_constitution.hormone_balance }}</p>
                    <p><strong>‰ΩìÊ∏©Ë™øÁØÄ:</strong> {{ data.detailed_constitution.temperature_regulation }}</p>
                    <p><strong>Ê∞¥ÂàÜ‰ª£Ë¨ù:</strong> {{ data.detailed_constitution.fluid_metabolism }}</p>
                    <p><strong>Âπ¥ÈΩ¢Â§âÂåñ:</strong> {{ data.detailed_constitution.age_related_changes }}</p>
                </div>
            </div>
        </div>

        <div class="medical-warnings">
            <h3>üéØ ÈáçË¶Å„Å™ÂÅ•Â∫∑Ê≥®ÊÑè‰∫ãÈ†Ö</h3>
            <p>{{ data.detailed_health_warnings.primary_concerns }}</p>

            <h4 style="color: #ff9999; margin: 20px 0 10px 0;">Áâπ„Å´Ê≥®ÊÑè„Åô„Åπ„ÅçÊôÇÊúü</h4>
            <ul style="list-style: none; padding-left: 20px;">
                {% for period in data.detailed_health_warnings.critical_periods %}
                <li style="margin: 8px 0;">‚Ä¢ {{ period }}</li>
                {% endfor %}
            </ul>

            <h4 style="color: #ff9999; margin: 20px 0 10px 0;">‰∫àÈò≤ÁöÑÂØæÁ≠ñ</h4>
            <ul style="list-style: none; padding-left: 20px;">
                {% for measure in data.detailed_health_warnings.preventive_measures %}
                <li style="margin: 8px 0;">‚Ä¢ {{ measure }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="section">
            <h2>üí´ ÂåÖÊã¨ÁöÑ„Ç¶„Çß„É´„Éç„ÇπÊåáÂ∞é</h2>
            <div class="wellness-comprehensive">
                <div class="wellness-grid">
                    <div class="wellness-category">
                        <h4>üçé Ê†ÑÈ§ä„ÉªÈ£ü‰∫ãÊåáÂ∞é</h4>
                        <ul>
                            {% for nutrition in data.comprehensive_wellness.nutrition %}
                            <li>{{ nutrition }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>üèÉ‚Äç‚ôÇÔ∏è ÈÅãÂãï„ÉªÊ¥ªÂãïÊåáÂ∞é</h4>
                        <ul>
                            {% for exercise in data.comprehensive_wellness.exercise %}
                            <li>{{ exercise }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>üò¥ ‰ºëÊÅØ„ÉªÁù°Áú†ÊåáÂ∞é</h4>
                        <ul>
                            {% for rest in data.comprehensive_wellness.rest %}
                            <li>{{ rest }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>üßò‚Äç‚ôÄÔ∏è Á≤æÁ•û„ÉªÂøÉÁêÜ„Ç±„Ç¢</h4>
                        <ul>
                            {% for mental in data.comprehensive_wellness.mental_care %}
                            <li>{{ mental }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>üåø ‰ª£ÊõøÁôÇÊ≥ï„ÉªËá™ÁÑ∂ÁôÇÊ≥ï</h4>
                        <ul>
                            {% for alternative in data.comprehensive_wellness.alternative_therapy %}
                            <li>{{ alternative }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>‚öñÔ∏è „É©„Ç§„Éï„Çπ„Çø„Ç§„É´Ë™øÊï¥</h4>
                        <ul>
                            {% for lifestyle in data.comprehensive_wellness.lifestyle %}
                            <li>{{ lifestyle }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="sabian-section">
            <h2>üìú „Çµ„Éì„Ç¢„É≥„Ç∑„É≥„Éú„É´ÂÅ•Â∫∑Ëß£Èáà</h2>
            {% for symbol in data.sabian_symbols %}
            <div class="sabian-symbol">
                <div class="sabian-degree">{{ symbol.planet }} - {{ symbol.degree }}¬∞{{ symbol.sign }}</div>
                <div class="sabian-description">
                    <strong>„Ç∑„É≥„Éú„É´:</strong> {{ symbol.symbol_text }}<br>
                    <strong>ÂÅ•Â∫∑ÁöÑÊÑèÂë≥:</strong> {{ symbol.health_meaning }}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="timing-section">
            <h2>‚è∞ ÂÅ•Â∫∑ÁÆ°ÁêÜ„Çø„Ç§„Éü„É≥„Ç∞ÊåáÂ∞é</h2>
            <div class="timing-grid">
                {% for timing in data.health_timing %}
                <div class="timing-period">
                    <h4 style="color: #9370db; margin-bottom: 10px;">{{ timing.period }}</h4>
                    <p><strong>Êé®Â•®Ê¥ªÂãï:</strong> {{ timing.recommended_activities }}</p>
                    <p><strong>Ê≥®ÊÑè‰∫ãÈ†Ö:</strong> {{ timing.precautions }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="section">
            <h2>üåô ÊúàÁõ∏„ÉªÂ≠£ÁØÄ„Å®„ÅÆË™øÂíå</h2>
            <p>{{ data.lunar_seasonal_guidance.overview }}</p>

            <h3 style="color: #d4af37; margin: 25px 0 15px 0;">ÊúàÁõ∏Âà•ÂÅ•Â∫∑ÁÆ°ÁêÜ</h3>
            <div class="timing-grid">
                {% for phase in data.lunar_seasonal_guidance.moon_phases %}
                <div class="timing-period">
                    <h4 style="color: #9370db;">{{ phase.phase_name }}</h4>
                    <p>{{ phase.health_guidance }}</p>
                </div>
                {% endfor %}
            </div>

            <h3 style="color: #d4af37; margin: 25px 0 15px 0;">Â≠£ÁØÄÂà•‰ΩìË™øÁÆ°ÁêÜ</h3>
            <div class="timing-grid">
                {% for season in data.lunar_seasonal_guidance.seasons %}
                <div class="timing-period">
                    <h4 style="color: #9370db;">{{ season.season_name }}</h4>
                    <p>{{ season.health_guidance }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="chart-placeholder">
            <h3 style="color: #d4af37; margin-bottom: 15px;">„Éç„Ç§„Çø„É´„ÉÅ„É£„Éº„ÉàË°®Á§∫„Ç®„É™„Ç¢</h3>
            <p>Âç†ÊòüË°ì„ÉÅ„É£„Éº„Éà„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô</p>
            <p>ÔºàÂÆüË£ÖÊôÇ„Å´SVG„Åæ„Åü„ÅØCanvasË¶ÅÁ¥†„ÅßË°®Á§∫Ôºâ</p>
        </div>

        <div class="back-link">
            <a href="/basic">Âü∫Êú¨Ë®∫Êñ≠„Å´Êàª„Çã</a> | 
            <a href="/">Êñ∞„Åó„ÅÑË®∫Êñ≠„ÇíÈñãÂßã</a>
        </div>

        <div class="footer">
            <p>„Åì„ÅÆË©≥Á¥∞„É¨„Éù„Éº„Éà„ÅØÂç†ÊòüÂåªÂ≠¶„ÅÆÈ´òÂ∫¶„Å™ÂéüÁêÜ„Å´Âü∫„Å•„ÅèÂåÖÊã¨ÁöÑ‰ΩìË≥™ÂàÜÊûê„Åß„Åô„ÄÇ</p>
            <p>ÂÄã‰∫∫„ÅÆÂÅ•Â∫∑Áä∂ÊÖã„ÇÑÊó¢ÂæÄÊ≠¥„ÇíËÄÉÊÖÆ„Åó„ÄÅÂåªÂ≠¶ÁöÑË®∫Êñ≠„Å®‰ΩµÁî®„Åô„Çã„Åì„Å®„ÇíÊé®Â•®„Åó„Åæ„Åô„ÄÇ</p>
            <p>Á∑äÊÄ•„ÅÆÂÅ•Â∫∑ÂïèÈ°å„Å´„Å§„ÅÑ„Å¶„ÅØÂøÖ„ÅöÂåªÁôÇÊ©üÈñ¢„Å´„ÅîÁõ∏Ë´á„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
        </div>
    </div>
</body>
</html>