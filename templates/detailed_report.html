<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASTRO-BODY TYPE REPORT - è©³ç´°è¨ºæ–­</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e8e8e8;
            line-height: 1.7;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
        }

        .header h1 {
            font-size: 3rem;
            color: #d4af37;
            letter-spacing: 3px;
            margin-bottom: 15px;
            font-weight: normal;
        }

        .header .subtitle {
            font-size: 1.3rem;
            color: #b8860b;
            letter-spacing: 1.5px;
            margin-bottom: 30px;
        }

        .patient-info {
            background: rgba(212, 175, 55, 0.15);
            border: 2px solid rgba(212, 175, 55, 0.4);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: center;
        }

        .section {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 12px;
            padding: 35px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
        }

        .section h2 {
            color: #d4af37;
            font-size: 1.8rem;
            margin-bottom: 25px;
            border-bottom: 3px solid rgba(212, 175, 55, 0.4);
            padding-bottom: 15px;
            position: relative;
        }

        .section h2::before {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 50px;
            height: 3px;
            background: #d4af37;
        }

        .archetype-title {
            font-size: 2.2rem;
            color: #ffd700;
            text-align: center;
            margin: 30px 0;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .constitution-detailed {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .constitution-card {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(184, 134, 11, 0.1));
            padding: 25px;
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            position: relative;
            overflow: hidden;
        }

        .constitution-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, #d4af37, #b8860b);
        }

        .constitution-card h3 {
            color: #d4af37;
            font-size: 1.3rem;
            margin-bottom: 15px;
            padding-left: 20px;
        }

        .constitution-card p {
            padding-left: 20px;
            margin-bottom: 12px;
        }

        .planetary-section {
            background: linear-gradient(45deg, rgba(212, 175, 55, 0.05), rgba(184, 134, 11, 0.05));
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .planetary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .planet-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .planet-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(212, 175, 55, 0.4);
        }

        .planet-card h4 {
            color: #ffd700;
            font-size: 1.2rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .planet-icon {
            font-size: 1.5rem;
            margin-right: 10px;
        }

        .wellness-comprehensive {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(184, 134, 11, 0.05));
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .wellness-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }

        .wellness-category {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 8px;
            padding: 25px;
        }

        .wellness-category h4 {
            color: #d4af37;
            font-size: 1.3rem;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            padding-bottom: 8px;
        }

        .wellness-category ul {
            list-style: none;
            padding-left: 0;
        }

        .wellness-category li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }

        .wellness-category li::before {
            content: "âœ§";
            color: #d4af37;
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }

        .sabian-section {
            background: rgba(212, 175, 55, 0.08);
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 12px;
            padding: 35px;
            margin: 35px 0;
        }

        .sabian-symbol {
            text-align: center;
            margin: 25px 0;
            padding: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .sabian-degree {
            font-size: 1.5rem;
            color: #ffd700;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .sabian-description {
            font-style: italic;
            font-size: 1.1rem;
            color: #e8e8e8;
            line-height: 1.8;
        }

        .medical-warnings {
            background: linear-gradient(45deg, rgba(220, 20, 60, 0.1), rgba(255, 69, 0, 0.1));
            border: 2px solid rgba(220, 20, 60, 0.3);
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
        }

        .medical-warnings h3 {
            color: #ff6b6b;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .timing-section {
            background: rgba(75, 0, 130, 0.1);
            border: 1px solid rgba(75, 0, 130, 0.3);
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }

        .timing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .timing-period {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #9370db;
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            border-top: 2px solid rgba(212, 175, 55, 0.3);
            color: #b8860b;
            font-style: italic;
        }

        .back-link {
            text-align: center;
            margin: 40px 0;
        }

        .back-link a {
            color: #d4af37;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 15px 30px;
            border: 2px solid #d4af37;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .back-link a:hover {
            background: #d4af37;
            color: #1a1a2e;
        }

        .chart-placeholder {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(212, 175, 55, 0.3);
            border-radius: 10px;
            padding: 40px;
            margin: 30px 0;
            color: #b8860b;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ASTRO-BODY TYPE REPORT</h1>
            <div class="subtitle">è©³ç´°è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ - Comprehensive Analysis</div>
        </div>

        <div class="patient-info">
            <h2>è¨ºæ–­å¯¾è±¡è€…è©³ç´°æƒ…å ±</h2>
            <p><strong>ç”Ÿå¹´æœˆæ—¥:</strong> {{ data.birth_date }}</p>
            <p><strong>å‡ºç”Ÿæ™‚åˆ»:</strong> {{ data.birth_time }}</p>
            <p><strong>å‡ºç”Ÿåœ°:</strong> {{ data.birth_place }}</p>
            <p><strong>è¨ºæ–­å®Ÿè¡Œæ—¥æ™‚:</strong> {{ data.diagnosis_timestamp }}</p>
        </div>

        <div class="section">
            <h2>ğŸŒŸ ä¸»è¦ã‚¢ãƒ¼ã‚­ã‚¿ã‚¤ãƒ—è©³ç´°åˆ†æ</h2>
            <div class="archetype-title">{{ data.primary_archetype }}</div>
            <p>{{ data.archetype_detailed_description }}</p>

            <h3 style="color: #d4af37; margin: 25px 0 15px 0;">è£œåŠ©ã‚¢ãƒ¼ã‚­ã‚¿ã‚¤ãƒ—</h3>
            <div class="constitution-detailed">
                {% for archetype in data.secondary_archetypes %}
                <div class="constitution-card">
                    <h3>{{ archetype.name }}</h3>
                    <p>{{ archetype.description }}</p>
                    <p><strong>å½±éŸ¿åº¦:</strong> {{ archetype.influence_level }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="section">
            <h2>ğŸª æƒ‘æ˜Ÿé…ç½®ã«ã‚ˆã‚‹ä½“è³ªåˆ†æ</h2>
            <div class="planetary-section">
                <div class="planetary-grid">
                    {% for planet in data.planetary_analysis %}
                    <div class="planet-card">
                        <h4><span class="planet-icon">{{ planet.symbol }}</span>{{ planet.name }}</h4>
                        <p><strong>ä½ç½®:</strong> {{ planet.position }}</p>
                        <p><strong>å¥åº·ã¸ã®å½±éŸ¿:</strong> {{ planet.health_influence }}</p>
                        <p><strong>ä½“è³ªçš„ç‰¹å¾´:</strong> {{ planet.constitutional_trait }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="section">
            <h2>âš¡ è©³ç´°ä½“è³ªåˆ†æ</h2>
            <div class="constitution-detailed">
                <div class="constitution-card">
                    <h3>ã‚¨ãƒãƒ«ã‚®ãƒ¼ç³»çµ±</h3>
                    <p><strong>åŸºæœ¬ã‚¿ã‚¤ãƒ—:</strong> {{ data.detailed_constitution.energy_type }}</p>
                    <p><strong>æ´»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³:</strong> {{ data.detailed_constitution.activity_pattern }}</p>
                    <p><strong>ç–²åŠ´ã®ç‰¹å¾´:</strong> {{ data.detailed_constitution.fatigue_pattern }}</p>
                    <p><strong>å›å¾©æ–¹æ³•:</strong> {{ data.detailed_constitution.recovery_method }}</p>
                </div>

                <div class="constitution-card">
                    <h3>ä»£è¬ç³»çµ±</h3>
                    <p><strong>ä»£è¬ã‚¿ã‚¤ãƒ—:</strong> {{ data.detailed_constitution.metabolism_type }}</p>
                    <p><strong>æ¶ˆåŒ–ç‰¹æ€§:</strong> {{ data.detailed_constitution.digestion_trait }}</p>
                    <p><strong>æ „é¤Šå¸å:</strong> {{ data.detailed_constitution.nutrient_absorption }}</p>
                    <p><strong>é©æ€§é£Ÿæ:</strong> {{ data.detailed_constitution.suitable_foods }}</p>
                </div>

                <div class="constitution-card">
                    <h3>å¾ªç’°å™¨ç³»çµ±</h3>
                    <p><strong>å¾ªç’°ã‚¿ã‚¤ãƒ—:</strong> {{ data.detailed_constitution.circulation_type }}</p>
                    <p><strong>è¡€åœ§å‚¾å‘:</strong> {{ data.detailed_constitution.blood_pressure_tendency }}</p>
                    <p><strong>å¿ƒæ‹ç‰¹æ€§:</strong> {{ data.detailed_constitution.heart_rate_trait }}</p>
                    <p><strong>é‹å‹•é©æ€§:</strong> {{ data.detailed_constitution.exercise_suitability }}</p>
                </div>

                <div class="constitution-card">
                    <h3>ç¥çµŒç³»çµ±</h3>
                    <p><strong>ç¥çµŒã‚¿ã‚¤ãƒ—:</strong> {{ data.detailed_constitution.nervous_system_type }}</p>
                    <p><strong>ã‚¹ãƒˆãƒ¬ã‚¹åå¿œ:</strong> {{ data.detailed_constitution.stress_response }}</p>
                    <p><strong>ç¡çœ ãƒ‘ã‚¿ãƒ¼ãƒ³:</strong> {{ data.detailed_constitution.sleep_pattern }}</p>
                    <p><strong>ç²¾ç¥çš„å‚¾å‘:</strong> {{ data.detailed_constitution.mental_tendency }}</p>
                </div>

                <div class="constitution-card">
                    <h3>å…ç–«ç³»çµ±</h3>
                    <p><strong>å…ç–«ã‚¿ã‚¤ãƒ—:</strong> {{ data.detailed_constitution.immune_type }}</p>
                    <p><strong>æ„ŸæŸ“æŠµæŠ—æ€§:</strong> {{ data.detailed_constitution.infection_resistance }}</p>
                    <p><strong>ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼å‚¾å‘:</strong> {{ data.detailed_constitution.allergy_tendency }}</p>
                    <p><strong>å›å¾©åŠ›:</strong> {{ data.detailed_constitution.healing_capacity }}</p>
                </div>

                <div class="constitution-card">
                    <h3>å†…åˆ†æ³Œç³»çµ±</h3>
                    <p><strong>ãƒ›ãƒ«ãƒ¢ãƒ³ãƒãƒ©ãƒ³ã‚¹:</strong> {{ data.detailed_constitution.hormone_balance }}</p>
                    <p><strong>ä½“æ¸©èª¿ç¯€:</strong> {{ data.detailed_constitution.temperature_regulation }}</p>
                    <p><strong>æ°´åˆ†ä»£è¬:</strong> {{ data.detailed_constitution.fluid_metabolism }}</p>
                    <p><strong>å¹´é½¢å¤‰åŒ–:</strong> {{ data.detailed_constitution.age_related_changes }}</p>
                </div>
            </div>
        </div>

        <div class="medical-warnings">
            <h3>ğŸ¯ é‡è¦ãªå¥åº·æ³¨æ„äº‹é …</h3>
            <p>{{ data.detailed_health_warnings.primary_concerns }}</p>

            <h4 style="color: #ff9999; margin: 20px 0 10px 0;">ç‰¹ã«æ³¨æ„ã™ã¹ãæ™‚æœŸ</h4>
            <ul style="list-style: none; padding-left: 20px;">
                {% for period in data.detailed_health_warnings.critical_periods %}
                <li style="margin: 8px 0;">â€¢ {{ period }}</li>
                {% endfor %}
            </ul>

            <h4 style="color: #ff9999; margin: 20px 0 10px 0;">äºˆé˜²çš„å¯¾ç­–</h4>
            <ul style="list-style: none; padding-left: 20px;">
                {% for measure in data.detailed_health_warnings.preventive_measures %}
                <li style="margin: 8px 0;">â€¢ {{ measure }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ’« åŒ…æ‹¬çš„ã‚¦ã‚§ãƒ«ãƒã‚¹æŒ‡å°</h2>
            <div class="wellness-comprehensive">
                <div class="wellness-grid">
                    <div class="wellness-category">
                        <h4>ğŸ æ „é¤Šãƒ»é£Ÿäº‹æŒ‡å°</h4>
                        <ul>
                            {% for nutrition in data.comprehensive_wellness.nutrition %}
                            <li>{{ nutrition }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>ğŸƒâ€â™‚ï¸ é‹å‹•ãƒ»æ´»å‹•æŒ‡å°</h4>
                        <ul>
                            {% for exercise in data.comprehensive_wellness.exercise %}
                            <li>{{ exercise }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>ğŸ˜´ ä¼‘æ¯ãƒ»ç¡çœ æŒ‡å°</h4>
                        <ul>
                            {% for rest in data.comprehensive_wellness.rest %}
                            <li>{{ rest }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>ğŸ§˜â€â™€ï¸ ç²¾ç¥ãƒ»å¿ƒç†ã‚±ã‚¢</h4>
                        <ul>
                            {% for mental in data.comprehensive_wellness.mental_care %}
                            <li>{{ mental }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>ğŸŒ¿ ä»£æ›¿ç™‚æ³•ãƒ»è‡ªç„¶ç™‚æ³•</h4>
                        <ul>
                            {% for alternative in data.comprehensive_wellness.alternative_therapy %}
                            <li>{{ alternative }}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="wellness-category">
                        <h4>âš–ï¸ ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´</h4>
                        <ul>
                            {% for lifestyle in data.comprehensive_wellness.lifestyle %}
                            <li>{{ lifestyle }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="sabian-section">
            <h2>ğŸ“œ ã‚µãƒ“ã‚¢ãƒ³ã‚·ãƒ³ãƒœãƒ«å¥åº·è§£é‡ˆ</h2>
            {% for symbol in data.sabian_symbols %}
            <div class="sabian-symbol">
                <div class="sabian-degree">{{ symbol.planet }} - {{ symbol.degree }}Â°{{ symbol.sign }}</div>
                <div class="sabian-description">
                    <strong>ã‚·ãƒ³ãƒœãƒ«:</strong> {{ symbol.symbol_text }}<br>
                    <strong>å¥åº·çš„æ„å‘³:</strong> {{ symbol.health_meaning }}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="timing-section">
            <h2>â° å¥åº·ç®¡ç†ã‚¿ã‚¤ãƒŸãƒ³ã‚°æŒ‡å°</h2>
            <div class="timing-grid">
                {% for timing in data.health_timing %}
                <div class="timing-period">
                    <h4 style="color: #9370db; margin-bottom: 10px;">{{ timing.period }}</h4>
                    <p><strong>æ¨å¥¨æ´»å‹•:</strong> {{ timing.recommended_activities }}</p>
                    <p><strong>æ³¨æ„äº‹é …:</strong> {{ timing.precautions }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="section">
            <h2>ğŸŒ™ æœˆç›¸ãƒ»å­£ç¯€ã¨ã®èª¿å’Œ</h2>
            <p>{{ data.lunar_seasonal_guidance.overview }}</p>

            <h3 style="color: #d4af37; margin: 25px 0 15px 0;">æœˆç›¸åˆ¥å¥åº·ç®¡ç†</h3>
            <div class="timing-grid">
                {% for phase in data.lunar_seasonal_guidance.moon_phases %}
                <div class="timing-period">
                    <h4 style="color: #9370db;">{{ phase.phase_name }}</h4>
                    <p>{{ phase.health_guidance }}</p>
                </div>
                {% endfor %}
            </div>

            <h3 style="color: #d4af37; margin: 25px 0 15px 0;">å­£ç¯€åˆ¥ä½“èª¿ç®¡ç†</h3>
            <div class="timing-grid">
                {% for season in data.lunar_seasonal_guidance.seasons %}
                <div class="timing-period">
                    <h4 style="color: #9370db;">{{ season.season_name }}</h4>
                    <p>{{ season.health_guidance }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="chart-placeholder">
            <h3 style="color: #d4af37; margin-bottom: 15px;">ãƒã‚¤ã‚¿ãƒ«ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤ºã‚¨ãƒªã‚¢</h3>
            <p>å æ˜Ÿè¡“ãƒãƒ£ãƒ¼ãƒˆãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
            <p>ï¼ˆå®Ÿè£…æ™‚ã«SVGã¾ãŸã¯Canvasè¦ç´ ã§è¡¨ç¤ºï¼‰</p>
        </div>

        <div class="back-link">
            <a href="/basic">åŸºæœ¬è¨ºæ–­ã«æˆ»ã‚‹</a> | 
            <a href="/">æ–°ã—ã„è¨ºæ–­ã‚’é–‹å§‹</a>
        </div>

        <div class="footer">
            <p>ã“ã®è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆã¯å æ˜ŸåŒ»å­¦ã®é«˜åº¦ãªåŸç†ã«åŸºã¥ãåŒ…æ‹¬çš„ä½“è³ªåˆ†æã§ã™ã€‚</p>
            <p>å€‹äººã®å¥åº·çŠ¶æ…‹ã‚„æ—¢å¾€æ­´ã‚’è€ƒæ…®ã—ã€åŒ»å­¦çš„è¨ºæ–­ã¨ä½µç”¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚</p>
            <p>ç·Šæ€¥ã®å¥åº·å•é¡Œã«ã¤ã„ã¦ã¯å¿…ãšåŒ»ç™‚æ©Ÿé–¢ã«ã”ç›¸è«‡ãã ã•ã„ã€‚</p>
        </div>
    </div>
</body>
</html>